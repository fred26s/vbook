(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{385:function(s,e,t){"use strict";t.r(e);var v=t(42),_=Object(v.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"git配置公钥ssh"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git配置公钥ssh"}},[s._v("#")]),s._v(" git配置公钥SSH")]),s._v(" "),t("h3",{attrs:{id:"ssh介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh介绍"}},[s._v("#")]),s._v(" SSH介绍")]),s._v(" "),t("p",[s._v("先大概说一下SSH是个什么东西；")]),s._v(" "),t("p",[s._v("SSH为Secure Shell的缩写，由IETF的网络小组（Network Working Group）所制定；SSH为建立在应用层基础上的安全协议。SSH是目前较可靠，专为远程登录会话和其他网络服务提供安全性的协议。利用SSH协议可以有效防止远程管理过程中的信息泄露问题。SSH最初是UNIX系统上的一个程序，后来又迅速扩展到其他操作平台。SSH在正确使用时可弥补网络中的漏洞。SSH客户端适用于多种平台。几乎所有UNIX平台—包括HP-UX、Linux、AIX、Solaris、Digital UNIX、Irix，以及其他平台，都可运行SSH。\n一般我们都会使用到两种方式去登陆SSH，密码登陆和证书登陆。如果使用密码登陆，很有可能会遭受恶意攻击，所以在实际的工作中和大多数的互联网公司，都是会使用证书去登陆的。")]),s._v(" "),t("h3",{attrs:{id:"ssh证书使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh证书使用"}},[s._v("#")]),s._v(" SSH证书使用")]),s._v(" "),t("h3",{attrs:{id:"如何生成公钥私钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#如何生成公钥私钥"}},[s._v("#")]),s._v(" 如何生成公钥私钥")]),s._v(" "),t("p",[s._v("客户端生成证书:私钥和公钥，然后私钥放在客户端，妥当保存，一般为了安全，客户端在生成私钥时，会设置一个密 码，以后每次登录ssh服务器时，客户端都要输入密码解开私钥；")]),s._v(" "),t("p",[s._v("1）在本地创建ssh key")]),s._v(" "),t("p",[s._v("打开终端，输入以下命令行")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('$ ssh-keygen -t rsa -C "your_email@youremail.com"\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("直接点回车，说明会在默认文件id_rsa上生成ssh key。")]),s._v(" "),t("p",[s._v("然后系统要求输入密码，我们在这里直接按回车表示不设密码；")]),s._v(" "),t("p",[s._v("重复密码时也是直接回车，之后提示你shh key已经生成成功。")]),s._v(" "),t("p",[s._v("也就是连续按三次回车；")]),s._v(" "),t("p",[s._v("到此，已生成ssh key(在"),t("code",[s._v("C:\\Users\\Administrator\\.ssh")]),s._v("中的id_rsa.pub文件内)；")]),s._v(" "),t("p",[s._v("这里"),t("code",[s._v("~/.SSH")]),s._v("文件夹下就生成了两个文件，一个公钥(pub后缀)，一个私钥。")]),s._v(" "),t("p",[s._v("2）获取本地生成的ssh key")]),s._v(" "),t("p",[s._v("然后在终端输入："),t("code",[s._v("vim ~/.ssh/id_ras.pub")]),s._v(" 回车即可打开对应生成的文件，")]),s._v(" "),t("p",[s._v("里面的key是一对看不懂的字符数字组合，不用管它，直接复制。")]),s._v(" "),t("p",[s._v("另一个"),t("code",[s._v("id_rsa")]),s._v("文件，为你的客户端私钥；")]),s._v(" "),t("h3",{attrs:{id:"服务器添加公钥"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器添加公钥"}},[s._v("#")]),s._v(" 服务器添加公钥")]),s._v(" "),t("p",[s._v("服务器添加信用公钥：把客户端生成的公钥，上传到ssh服务器，添加到指定的文件中，这样，就完成ssh证书登录的配置了。")]),s._v(" "),t("p",[s._v("1）假设客户端想通过私钥要登录其他ssh服务器，同理，就可以把公钥上传到其他ssh服务器。")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("比如以码云`gitee.com`来举例；\n\n打开个人中心 => 左侧安全设置 => SSH公钥 => 把本地`id_rsa_pub`中的公钥粘贴到这里 => 新增服务器上的公钥验证；\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[s._v("2）验证是否配置成功")]),s._v(" "),t("p",[s._v("在git bash下输入")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("$ ssh -T git@gitee.com\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("回车就会看到："),t("code",[s._v("You’ve successfully authenticated, but gitee does not provide shell access 。")])]),s._v(" "),t("p",[s._v("这就表示已成功连上gitee，相当于服务端就认可你这个配置公钥的客户端是可以安全连接的。")]),s._v(" "),t("p",[t("strong",[s._v("这里就完成了服务器添加公钥， 就可以正常使用SSH进行仓库的pull & push操作啦")])]),s._v(" "),t("h2",{attrs:{id:"tortoisegit配置问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tortoisegit配置问题"}},[s._v("#")]),s._v(" TortoiseGit配置问题")]),s._v(" "),t("p",[s._v("有时我们只通过"),t("code",[s._v("git bash")]),s._v("配置"),t("code",[s._v("SSH")]),s._v("后，会出现与"),t("code",[s._v("TortoiseGit")]),s._v("冲突问题，导致小乌龟无法正常拉取代码。")]),s._v(" "),t("p",[s._v("报错："),t("code",[s._v("disconnected: No supported authentication methods available")])]),s._v(" "),t("p",[s._v("处理方法:")]),s._v(" "),t("p",[s._v("​\t修改小乌龟的"),t("code",[s._v("SSH cilent")]),s._v("地址；")]),s._v(" "),t("ol",[t("li",[t("p",[s._v("打开设置"),t("code",[s._v("Setting --- Network ---SSH")]),s._v(";")])]),s._v(" "),t("li",[t("p",[s._v("修改默认地址"),t("code",[s._v("XX/TortoiseGit/bin/TortoiseGitPlink.exe")]),s._v("为")]),s._v(" "),t("p",[t("code",[s._v("Git")]),s._v("安装地址中的"),t("code",[s._v("SSH.exe")]),s._v(";")])]),s._v(" "),t("li",[t("p",[s._v("一般地址为"),t("code",[s._v("X:XX/Git/usr/bin/SSH.exe")]),s._v(";")])])])])}),[],!1,null,null,null);e.default=_.exports}}]);