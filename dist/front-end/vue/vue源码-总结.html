<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>初始化 | BLOG</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="icon" href="/vbook/favicon.ico">
    <meta name="description" content="学习笔记">
    <link rel="preload" href="/vbook/assets/css/0.styles.e0606203.css" as="style"><link rel="preload" href="/vbook/assets/js/app.3b385a05.js" as="script"><link rel="preload" href="/vbook/assets/js/2.2ce5df5b.js" as="script"><link rel="preload" href="/vbook/assets/js/40.f6913db6.js" as="script"><link rel="prefetch" href="/vbook/assets/js/10.6f2d8bc8.js"><link rel="prefetch" href="/vbook/assets/js/11.c69ee5aa.js"><link rel="prefetch" href="/vbook/assets/js/12.e204f4f1.js"><link rel="prefetch" href="/vbook/assets/js/13.1883e67e.js"><link rel="prefetch" href="/vbook/assets/js/14.755d7778.js"><link rel="prefetch" href="/vbook/assets/js/15.7e722045.js"><link rel="prefetch" href="/vbook/assets/js/16.8a84fe06.js"><link rel="prefetch" href="/vbook/assets/js/17.d851d255.js"><link rel="prefetch" href="/vbook/assets/js/18.10bf8f28.js"><link rel="prefetch" href="/vbook/assets/js/19.b4d18bac.js"><link rel="prefetch" href="/vbook/assets/js/20.e82790c5.js"><link rel="prefetch" href="/vbook/assets/js/21.ef1a1af6.js"><link rel="prefetch" href="/vbook/assets/js/22.c1aad3a2.js"><link rel="prefetch" href="/vbook/assets/js/23.f403526b.js"><link rel="prefetch" href="/vbook/assets/js/24.447556ba.js"><link rel="prefetch" href="/vbook/assets/js/25.8f1830d8.js"><link rel="prefetch" href="/vbook/assets/js/26.1aee2451.js"><link rel="prefetch" href="/vbook/assets/js/27.a86b3044.js"><link rel="prefetch" href="/vbook/assets/js/28.508d01f9.js"><link rel="prefetch" href="/vbook/assets/js/29.dbe0222b.js"><link rel="prefetch" href="/vbook/assets/js/3.dfccb20d.js"><link rel="prefetch" href="/vbook/assets/js/30.29ae2259.js"><link rel="prefetch" href="/vbook/assets/js/31.ece9409c.js"><link rel="prefetch" href="/vbook/assets/js/32.455c0172.js"><link rel="prefetch" href="/vbook/assets/js/33.d78a6fd6.js"><link rel="prefetch" href="/vbook/assets/js/34.dbb055b1.js"><link rel="prefetch" href="/vbook/assets/js/35.158a349a.js"><link rel="prefetch" href="/vbook/assets/js/36.5791d7c4.js"><link rel="prefetch" href="/vbook/assets/js/37.ef1f5814.js"><link rel="prefetch" href="/vbook/assets/js/38.d69658c1.js"><link rel="prefetch" href="/vbook/assets/js/39.601fbcdd.js"><link rel="prefetch" href="/vbook/assets/js/4.d599a372.js"><link rel="prefetch" href="/vbook/assets/js/41.99ac89f4.js"><link rel="prefetch" href="/vbook/assets/js/42.dd0380bd.js"><link rel="prefetch" href="/vbook/assets/js/43.d033d384.js"><link rel="prefetch" href="/vbook/assets/js/44.0bf3fc34.js"><link rel="prefetch" href="/vbook/assets/js/45.fc46fe1d.js"><link rel="prefetch" href="/vbook/assets/js/46.b812e66f.js"><link rel="prefetch" href="/vbook/assets/js/5.525c50d0.js"><link rel="prefetch" href="/vbook/assets/js/6.f6b821c1.js"><link rel="prefetch" href="/vbook/assets/js/7.61ee7893.js"><link rel="prefetch" href="/vbook/assets/js/8.b54700d3.js"><link rel="prefetch" href="/vbook/assets/js/9.a6110085.js">
    <link rel="stylesheet" href="/vbook/assets/css/0.styles.e0606203.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vbook/" class="home-link router-link-active"><!----> <span class="site-name">BLOG</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习笔记" class="dropdown-title"><span class="title">前端学习笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习笔记" class="mobile-dropdown-title"><span class="title">前端学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/front-end/evo/优化方式.html" class="nav-link">
  前端优化
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/js/es6知识.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/vue/vue知识点.html" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/webpack/webpack基础.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/net/网络基础.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/tools/GIT.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/ci/travis自动部署.html" class="nav-link">
  前端自动化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台学习笔记" class="dropdown-title"><span class="title">后台学习笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="后台学习笔记" class="mobile-dropdown-title"><span class="title">后台学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/back-end/node/express.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/vbook/back-end/lib-web/RESTful.html" class="nav-link">
  web开发知识
</a></li><li class="dropdown-item"><!----> <a href="/vbook/back-end/server/Nginx.html" class="nav-link">
  服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JustDoIT" class="dropdown-title"><span class="title">JustDoIT</span> <span class="arrow down"></span></button> <button type="button" aria-label="JustDoIT" class="mobile-dropdown-title"><span class="title">JustDoIT</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/funs/hardware/arduino.html" class="nav-link">
  硬件
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端学习笔记" class="dropdown-title"><span class="title">前端学习笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端学习笔记" class="mobile-dropdown-title"><span class="title">前端学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/front-end/evo/优化方式.html" class="nav-link">
  前端优化
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/js/es6知识.html" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/vue/vue知识点.html" class="nav-link">
  VUE
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/webpack/webpack基础.html" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/net/网络基础.html" class="nav-link">
  网络基础
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/tools/GIT.html" class="nav-link">
  开发工具
</a></li><li class="dropdown-item"><!----> <a href="/vbook/front-end/ci/travis自动部署.html" class="nav-link">
  前端自动化
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后台学习笔记" class="dropdown-title"><span class="title">后台学习笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="后台学习笔记" class="mobile-dropdown-title"><span class="title">后台学习笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/back-end/node/express.html" class="nav-link">
  NodeJS
</a></li><li class="dropdown-item"><!----> <a href="/vbook/back-end/lib-web/RESTful.html" class="nav-link">
  web开发知识
</a></li><li class="dropdown-item"><!----> <a href="/vbook/back-end/server/Nginx.html" class="nav-link">
  服务器
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JustDoIT" class="dropdown-title"><span class="title">JustDoIT</span> <span class="arrow down"></span></button> <button type="button" aria-label="JustDoIT" class="mobile-dropdown-title"><span class="title">JustDoIT</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vbook/funs/hardware/arduino.html" class="nav-link">
  硬件
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Vue2.x</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vbook/front-end/vue/vue知识点.html" class="sidebar-link">vue知识点</a></li><li><a href="/vbook/front-end/vue/vue源码-解读.html" class="sidebar-link">vue源码-解读</a></li><li><a href="/vbook/front-end/vue/vue源码-总结.html" class="active sidebar-link">vue源码-总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#初始化" class="sidebar-link">初始化</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#响应式化" class="sidebar-link">响应式化</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#异步更新和-nexttick" class="sidebar-link">异步更新和 nextTick</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#编译-compile" class="sidebar-link">编译 compile</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#patch" class="sidebar-link">patch</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#macrotask-与-microtask-vue-视图更新" class="sidebar-link">Macrotask 与 Microtask -[vue 视图更新]</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#vnode" class="sidebar-link">Vnode</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#dom-diff" class="sidebar-link">dom Diff</a></li><li class="sidebar-sub-header"><a href="/vbook/front-end/vue/vue源码-总结.html#与-react-异同" class="sidebar-link">与 react 异同</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="初始化"><a href="#初始化" class="header-anchor">#</a> 初始化</h2> <ul><li><h3 id="初始化状态-数据"><a href="#初始化状态-数据" class="header-anchor">#</a> 初始化状态/数据</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>new初始化实际是调用了Vue构造函数；并在Vue.prototype上挂载初始化状态/事件；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><h3 id="依赖收集"><a href="#依赖收集" class="header-anchor">#</a> 依赖收集</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>依赖收集主要围绕三个概念类，Observe、Dep、Watcher;
- Observe类
首先通过`defineReactive`给每个对象属性增加响应式化（实现为definePorperty）;
给每个对象属性递归添加getter/setter；
所以当取值/改值时，触发getter/setter中的Dep依赖收集和派发更新；
- Dep类
dep作为依赖搜集器，用来收集Watcher的实例，用来通知更新；
- Watcher类
new实例时（初始化/mount时），添加Dep.target Watcher;
获取getter时，通过dep.depend添加依赖，
这里是Dep和Watcher方法间互相调用的过程，Dep中使用保存的`target watcher`去调用`addDep`方法；
watcher中的`addDep`方法又用传入的dep实例，调用`addSub`方法来将自身添加到dep依赖中；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li> <li><h3 id="挂载-mount"><a href="#挂载-mount" class="header-anchor">#</a> 挂载 mount</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>初始化数据后，实际就是直接调用了`$mount()`方法；
这个方法多处有定义，实际web端调用的就是`mountComponent()`这个方法；
新建了一个渲染Watcher，初始化和数据更新的时候都会调用`mountComponent `
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ul> <h2 id="响应式化"><a href="#响应式化" class="header-anchor">#</a> 响应式化</h2> <p>上面说过了依赖收集，即只要被依赖的响应式化数据，即被<code>defineReactive</code>；</p> <p>例如 data、props、computed，就会生成一个<code>Dep</code>实例；用<code>dep.depend</code>来收集它被谁所依赖了；</p> <p>然后在自身改变的时候回调用<code>setting</code>函数，其中会通过<code>dep.notify</code>来通知所有被它收集依赖的<code>watcher</code>实例；</p> <p><code>watcher</code>实例被<code>notify</code>通知后，实际上是调用了自身的<code>update</code>更新函数；</p> <p>这就形成了响应式化的数据形式；</p> <h2 id="异步更新和-nexttick"><a href="#异步更新和-nexttick" class="header-anchor">#</a> 异步更新和 nextTick</h2> <p>上面说完了响应式化的数据，当<code>watcher</code>实例被通知<code>update</code>后，其实并不是直接更新数据，并刷新页面 dom；</p> <p>这里会引入一个概念叫做<strong>异步更新</strong>；</p> <p>也就是被通知更新的操作，会被先进行去重，然后暂时推入一个事件队列中（nextTick）；</p> <p>也叫做<code>eventLoop</code>，这个队列会直接开启一个浏览器<code>microTask</code>异步微任务；</p> <p>在执行<code>microTask</code>前或执行中，只要有<code>update</code>更新事件，都可以实时加入到事件<code>queue</code>中，进行更新，但不会再推入<code>eventLoop</code>一个新的微任务；</p> <h3 id="nexttick"><a href="#nexttick" class="header-anchor">#</a> nextTick</h3> <p>若浏览器开启此异步微任务前，例如使用<code>this.$nextTick()</code> 再次推入的事件仍然可以加入这个<code>tick</code>中，等开始这个<code>mricoTask</code>时一并进行处理；</p> <p>但如果已经开始了当前<code>microTask</code>，再使用<code>nextTick</code>加入的事件，就会等到下一个<code>microTask</code>去执行；</p> <h2 id="编译-compile"><a href="#编译-compile" class="header-anchor">#</a> 编译 compile</h2> <p>compile 就是将<code>.vue</code>单文件<code>template</code>中的 HTML 编译转化为<code>render</code>函数的一个过程；</p> <p>主要其实就是三步重要的过程: <code>parse</code>、<code>optimize</code>、<code>generate</code></p> <ul><li><code>parse</code>：会用正则等方式解析 template 模板中的指令、class、style 等数据，形成抽象语法树 AST</li> <li><code>optimize</code>：优化 AST，生成模板 AST 树，检测不需要进行 DOM 改变的静态子树，减少 patch 的压力</li> <li><code>generate</code>：把 AST 生成 render 方法的代码</li></ul> <blockquote><p>在<a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6" target="_blank" rel="noopener noreferrer">计算机科学<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，<strong>抽象语法树</strong>（<strong>A</strong>bstract <strong>S</strong>yntax <strong>T</strong>ree，AST），或简称<strong>语法树</strong>（Syntax tree），</p> <p>是<a href="https://zh.wikipedia.org/wiki/%E6%BA%90%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener noreferrer">源代码<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><a href="https://zh.wikipedia.org/wiki/%E8%AF%AD%E6%B3%95%E5%AD%A6" target="_blank" rel="noopener noreferrer">语法<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>结构的一种抽象表示。</p> <p>它以<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E5%9B%BE%E8%AE%BA)" target="_blank" rel="noopener noreferrer">树状<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的形式表现<a href="https://zh.wikipedia.org/wiki/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80" target="_blank" rel="noopener noreferrer">编程语言<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>的语法结构，树上的每个节点都表示源代码中的一种结构。</p> <p>之所以说语法是“抽象”的，是因为这里的语法并不会表示出真实语法中出现的每个细节。</p> <p>比如，嵌套括号被隐含在树的结构中，并没有以节点的形式呈现；</p> <p>而类似于 <code>if-condition-then</code> 这样的条件跳转语句，可以使用带有三个分支的节点来表示。</p></blockquote> <h2 id="patch"><a href="#patch" class="header-anchor">#</a> patch</h2> <h2 id="macrotask-与-microtask-vue-视图更新"><a href="#macrotask-与-microtask-vue-视图更新" class="header-anchor">#</a> Macrotask 与 Microtask -[vue 视图更新]</h2> <p>`JS 事件循环</p> <h2 id="vnode"><a href="#vnode" class="header-anchor">#</a> Vnode</h2> <p>Virtual DOM 并没有完全实现 DOM，Virtual DOM 最主要的还是保留了 <code>Element</code> 之间的层次关系和一些基本属性。实际是使用 JS 对真实 DOM 的一种描述；</p> <p>其中包含 Virtual DOM 算法，包括几个步骤：</p> <ol><li>用 JavaScript 对象结构表示 DOM 树的结构；然后用这个树构建一个真正的 DOM 树，插到文档当中</li> <li>当状态变更的时候，重新构造一棵新的对象树。然后用新的树和旧的树进行比较，记录两棵树差异</li> <li>把第 2 步所记录的差异应用到第 1 步所构建的真正的 DOM 树上，视图就更新了</li></ol> <h2 id="dom-diff"><a href="#dom-diff" class="header-anchor">#</a> dom Diff</h2> <h2 id="与-react-异同"><a href="#与-react-异同" class="header-anchor">#</a> 与 react 异同</h2> <p>vue 的官网中说它是一款渐进式框架，采用自底向上增量开发的设计;</p> <p>例如做一个单页应用的时候才需要用路由；做一个相当庞大的应用，涉及到多组件状态共享以及多个开发者共同协作时，才可能需要大规模状态管理方案。</p> <ul><li><p>react 使用自由化度高</p> <p>vue 入手简单，封装度高，更多的 API</p></li> <li><p>vue 起初的定位就是尽可能的降低前端开发的门槛；</p> <p>而 react 更多的对原有前端开发模式做出的改变；</p></li></ul> <p>三大框架数据更新差异</p> <p>vue - defineproperty 数据劫持（vue3.0 使用 proxy）</p> <p>angular - 脏检查</p> <ul><li><p>其实就是存储所有变量的值，每当可能有变量发生变化需要检查时，就将所有变量的旧值跟新值进行比较，<strong>不相等就说明检测到变化</strong>，需要更新对应视图。</p></li> <li><p>1.不会脏检查所有的对象。当对象被绑定到 html 中后，这个对象才会添加为检查对象（watcher）</p> <p>2.不会脏检查所有的属性，同样当属性被绑定后，这个属性才会被列为检查的属性</p> <p>在 angular 程序初始化时，会将绑定的对象的属性添加为监听对象（watcher），也就是说一个对象绑定了 N 个属性，就会添加 N 个 watcher。</p> <p>angular 什么时候去脏检查呢？angular 所系统的方法中都会触发比较事件，比如：controller 初始化的时候，所有以 ng-开头的事件爱你执行后，都会出发脏检查</p></li></ul> <p>react - 单向数据流</p> <p>和 vue 一样都是由父组件向子组件传值，但是 vue 实现的数据双向绑定实际上是语法糖；</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vbook/front-end/vue/vue源码-解读.html" class="prev">
        vue源码-解读
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vbook/assets/js/app.3b385a05.js" defer></script><script src="/vbook/assets/js/2.2ce5df5b.js" defer></script><script src="/vbook/assets/js/40.f6913db6.js" defer></script>
  </body>
</html>
