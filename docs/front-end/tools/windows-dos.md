[[toc]]

## 脚本命令行

脚本命令行根据系统内核不同，大致区分为bat和shell两种

- bat 批处理

  批处理脚本运行在windows平台上，而命令行包括powershell在window下都依赖window桌面，是桌面上的应用，没有桌面无法运行。

- linux shell

  是linux 操作系统的用户交互层，对linux来说是必须的。

  没有shell是不行的，但是可以没有图形桌面，图形桌面不过是跑在shell上的应用。

### bat和shell两者异同

**相同：**

1. 顺序执行成组命令。

2. 可以读取用户输入。

3. 支持方便编程和自动化的控制结构。例如:for/if/while/switch

4. 支持函数和数组等高级特性。

5. 支持正则表达式。例如：batch in windwos 里面的findstr

6. 能包含其他语言的代码。例如：perl，awk，sed

**差异：**

1. 批处理支持的工具/命令不丰富。而壳脚本有超过7.5万命令。

2. 批处理只有一个供应商-微软。而壳脚本有sun/apple/ibm-aix/hp-ux/gun linux 等。
3. 只有一个dos版本。而壳脚本有bash/ksh/csh/zsh等多个变体版本。
4. bat对其他语言代码的兼容性差。而壳脚本对其他语言代码的兼容性好。
5. bat不能处理复杂的正则表达式。而壳脚本可以。
6. 扩展名为.bat。而壳脚本没有扩展名的概念，只要把文件权限设置为可执行[x]就可以。

## 什么是批处理.bat

windows下BAT批处理的工作原理就是一次处理多条DOS命令，其效果和在DOS下依次执行各条命令相同；

通常用于自动执行重复性任务。用户只需双击批处理文件便可执行任务，而无需重复输入相同指令。

编写批处理文件非常简单，但难点在于确保一切按顺序执行。编写严谨的批处理文件可以极大程度地节省时间，在应对重复性工作时尤其有效。

本质BAT文件其实就是文本文件，用任意文本编辑器均可打开编辑。

## 批处理运行顺序

系统在解释运行批处理程序时的顺序：

1. 首先扫描整个批处理程序，
2. 然后从第一行代码开始向下逐句执行所有的命令，
3. 直至程序结尾或遇见exit命令或出错意外退出。



## 批处理常用命令

[.bat常用命令介绍](https://www.cnblogs.com/lsgxeva/p/10694546.html)

> 常用DOS命令
>
> **文件夹管理**
>
> - cd 显示当前目录名或改变当前目录。
> - md 创建目录。
> - rd 删除一个目录。
> - dir 显示目录中的文件和子目录列表。
> - tree 以图形显示驱动器或路径的文件夹结构。
> - path 为可执行文件显示或设置一个搜索路径。
> - xcopy 复制文件和目录树。
>
> **文件管理**
>
> - type 显示文本文件的内容。
> - copy 将一份或多份文件复制到另一个位置。
> - del 删除一个或数个文件。
> - move 移动文件并重命名文件和目录。(Windows XP Home Edition中没有)
> - ren 重命名文件。
> - replace 替换文件。
> - attrib 显示或更改文件属性。
> - find 搜索字符串。
> - fc 比较两个文件或两个文件集并显示它们之间的不同

## 相对路径/绝对路径

### 相对路径

批处理文件处理相对路径的时候，**起始位置是bat文件所在的目录**。

比如在D:\XX目录下执行bat文件，所有相对目录的操作都会以D:\XX下执行。

> 打开当前路径下的文件夹：
> .\
> 上一级路径：
> ..\

### 绝对路径

直接根据盘符来执行绝对路径；

```bat
copy D:\e6\project\dist\index.html D:\e6\project\dist\front\index.html && del D:\e6\project\dist\index.html
```

